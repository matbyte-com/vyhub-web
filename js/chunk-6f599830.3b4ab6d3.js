(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6f599830"],{"07d4":function(e,t,a){"use strict";var n;(function(e){e["serverEdit"]="server_edit",e["serverShow"]="server_show",e["bundleEdit"]="bundle_edit",e["themeShow"]="theme_show",e["themeEdit"]="theme_edit",e["banShow"]="ban_show",e["banEdit"]="ban_edit",e["packetsShow"]="packets_show",e["groupEdit"]="group_edit",e["navEdit"]="nav_edit",e["newsEdit"]="news_edit",e["requirementEdit"]="requirement_edit"})(n||(n={})),t["a"]=n},"1fdb":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-data-table",e._g(e._b({attrs:{items:e.realItems,search:e.searchModel,loading:e.loading,"item-key":e.itemKey},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-row",[a("v-col",{attrs:{"align-self":"center"}},[e._t("header")],2),e.$slots.header?e._e():a("v-spacer"),e.search?a("v-col",{attrs:{lg:"3",md:"6",sm:"12","align-self":"center"}},[a("v-text-field",{attrs:{label:e.$t("search"),"hide-details":"",outlined:"",dense:""},on:{input:function(t){return e.$emit("search",e.searchModel)}},scopedSlots:e._u([{key:"prepend-inner",fn:function(){return[a("v-icon",[e._v(" mdi-magnify ")])]},proxy:!0}],null,!1,2092382991),model:{value:e.searchModel,callback:function(t){e.searchModel=t},expression:"searchModel"}})],1):e._e()],1)]},proxy:!0},{key:"footer.page-text",fn:function(){return[a("v-row",[a("v-col",{attrs:{"align-self":"center"}},[e._t("footer-right")],2)],1)]},proxy:!0},e._l(e.inheritSlots,(function(t,a){return{key:a,fn:function(t){return[e._t(a,null,null,t)]}}}))],null,!0)},"v-data-table",e.$attrs,!1),e.$listeners))},r=[],o={name:"DataTable",data:function(){return{searchModel:null}},props:{items:Array,search:{type:Boolean,default:!1},itemKey:{type:String,default:"id"}},computed:{loading:function(){return null==this.items},inheritSlots:function(){var e=this.$scopedSlots;return"header"in e&&delete e.header,e},realItems:function(){return this.items?this.items:[]}}},i=o,c=a("2877"),d=a("6544"),s=a.n(d),m=a("62ad"),u=a("8fea"),l=a("132d"),f=a("0fd9"),p=a("2fa4"),h=a("8654"),g=Object(c["a"])(i,n,r,!1,null,"21db08fe",null);t["a"]=g.exports;s()(g,{VCol:m["a"],VDataTable:u["a"],VIcon:l["a"],VRow:f["a"],VSpacer:p["a"],VTextField:h["a"]})},"4fad":function(e,t,a){var n=a("23e7"),r=a("6f53").entries;n({target:"Object",stat:!0},{entries:function(e){return r(e)}})},"748f":function(e){e.exports=JSON.parse('[{"code":"AD","name":"Andorra"},{"code":"AE","name":"United Arab Emirates"},{"code":"AF","name":"Afghanistan"},{"code":"AG","name":"Antigua and Barbuda"},{"code":"AI","name":"Anguilla"},{"code":"AL","name":"Albania"},{"code":"AM","name":"Armenia"},{"code":"AO","name":"Angola"},{"code":"AQ","name":"Antarctica"},{"code":"AR","name":"Argentina"},{"code":"AS","name":"American Samoa"},{"code":"AT","name":"Austria"},{"code":"AU","name":"Australia"},{"code":"AW","name":"Aruba"},{"code":"AX","name":"Åland Islands"},{"code":"AZ","name":"Azerbaijan"},{"code":"BA","name":"Bosnia and Herzegovina"},{"code":"BB","name":"Barbados"},{"code":"BD","name":"Bangladesh"},{"code":"BE","name":"Belgium"},{"code":"BF","name":"Burkina Faso"},{"code":"BG","name":"Bulgaria"},{"code":"BH","name":"Bahrain"},{"code":"BI","name":"Burundi"},{"code":"BJ","name":"Benin"},{"code":"BL","name":"Saint Barthélemy"},{"code":"BM","name":"Bermuda"},{"code":"BN","name":"Brunei Darussalam"},{"code":"BO","name":"Bolivia, Plurinational State of"},{"code":"BQ","name":"Bonaire, Sint Eustatius and Saba"},{"code":"BR","name":"Brazil"},{"code":"BS","name":"Bahamas"},{"code":"BT","name":"Bhutan"},{"code":"BV","name":"Bouvet Island"},{"code":"BW","name":"Botswana"},{"code":"BY","name":"Belarus"},{"code":"BZ","name":"Belize"},{"code":"CA","name":"Canada"},{"code":"CC","name":"Cocos (Keeling) Islands"},{"code":"CD","name":"Congo, Democratic Republic of the"},{"code":"CF","name":"Central African Republic"},{"code":"CG","name":"Congo"},{"code":"CH","name":"Switzerland"},{"code":"CI","name":"Côte d\'Ivoire"},{"code":"CK","name":"Cook Islands"},{"code":"CL","name":"Chile"},{"code":"CM","name":"Cameroon"},{"code":"CN","name":"China"},{"code":"CO","name":"Colombia"},{"code":"CR","name":"Costa Rica"},{"code":"CU","name":"Cuba"},{"code":"CV","name":"Cabo Verde"},{"code":"CW","name":"Curaçao"},{"code":"CX","name":"Christmas Island"},{"code":"CY","name":"Cyprus"},{"code":"CZ","name":"Czechia"},{"code":"DE","name":"Germany"},{"code":"DJ","name":"Djibouti"},{"code":"DK","name":"Denmark"},{"code":"DM","name":"Dominica"},{"code":"DO","name":"Dominican Republic"},{"code":"DZ","name":"Algeria"},{"code":"EC","name":"Ecuador"},{"code":"EE","name":"Estonia"},{"code":"EG","name":"Egypt"},{"code":"EH","name":"Western Sahara"},{"code":"ER","name":"Eritrea"},{"code":"ES","name":"Spain"},{"code":"ET","name":"Ethiopia"},{"code":"FI","name":"Finland"},{"code":"FJ","name":"Fiji"},{"code":"FK","name":"Falkland Islands (Malvinas)"},{"code":"FM","name":"Micronesia, Federated States of"},{"code":"FO","name":"Faroe Islands"},{"code":"FR","name":"France"},{"code":"GA","name":"Gabon"},{"code":"GB","name":"United Kingdom of Great Britain and Northern Ireland"},{"code":"GD","name":"Grenada"},{"code":"GE","name":"Georgia"},{"code":"GF","name":"French Guiana"},{"code":"GG","name":"Guernsey"},{"code":"GH","name":"Ghana"},{"code":"GI","name":"Gibraltar"},{"code":"GL","name":"Greenland"},{"code":"GM","name":"Gambia"},{"code":"GN","name":"Guinea"},{"code":"GP","name":"Guadeloupe"},{"code":"GQ","name":"Equatorial Guinea"},{"code":"GR","name":"Greece"},{"code":"GS","name":"South Georgia and the South Sandwich Islands"},{"code":"GT","name":"Guatemala"},{"code":"GU","name":"Guam"},{"code":"GW","name":"Guinea-Bissau"},{"code":"GY","name":"Guyana"},{"code":"HK","name":"Hong Kong"},{"code":"HM","name":"Heard Island and McDonald Islands"},{"code":"HN","name":"Honduras"},{"code":"HR","name":"Croatia"},{"code":"HT","name":"Haiti"},{"code":"HU","name":"Hungary"},{"code":"ID","name":"Indonesia"},{"code":"IE","name":"Ireland"},{"code":"IL","name":"Israel"},{"code":"IM","name":"Isle of Man"},{"code":"IN","name":"India"},{"code":"IO","name":"British Indian Ocean Territory"},{"code":"IQ","name":"Iraq"},{"code":"IR","name":"Iran, Islamic Republic of"},{"code":"IS","name":"Iceland"},{"code":"IT","name":"Italy"},{"code":"JE","name":"Jersey"},{"code":"JM","name":"Jamaica"},{"code":"JO","name":"Jordan"},{"code":"JP","name":"Japan"},{"code":"KE","name":"Kenya"},{"code":"KG","name":"Kyrgyzstan"},{"code":"KH","name":"Cambodia"},{"code":"KI","name":"Kiribati"},{"code":"KM","name":"Comoros"},{"code":"KN","name":"Saint Kitts and Nevis"},{"code":"KP","name":"Korea, Democratic People\'s Republic of"},{"code":"KR","name":"Korea, Republic of"},{"code":"KW","name":"Kuwait"},{"code":"KY","name":"Cayman Islands"},{"code":"KZ","name":"Kazakhstan"},{"code":"LA","name":"Lao People\'s Democratic Republic"},{"code":"LB","name":"Lebanon"},{"code":"LC","name":"Saint Lucia"},{"code":"LI","name":"Liechtenstein"},{"code":"LK","name":"Sri Lanka"},{"code":"LR","name":"Liberia"},{"code":"LS","name":"Lesotho"},{"code":"LT","name":"Lithuania"},{"code":"LU","name":"Luxembourg"},{"code":"LV","name":"Latvia"},{"code":"LY","name":"Libya"},{"code":"MA","name":"Morocco"},{"code":"MC","name":"Monaco"},{"code":"MD","name":"Moldova, Republic of"},{"code":"ME","name":"Montenegro"},{"code":"MF","name":"Saint Martin, (French part)"},{"code":"MG","name":"Madagascar"},{"code":"MH","name":"Marshall Islands"},{"code":"MK","name":"North Macedonia"},{"code":"ML","name":"Mali"},{"code":"MM","name":"Myanmar"},{"code":"MN","name":"Mongolia"},{"code":"MO","name":"Macao"},{"code":"MP","name":"Northern Mariana Islands"},{"code":"MQ","name":"Martinique"},{"code":"MR","name":"Mauritania"},{"code":"MS","name":"Montserrat"},{"code":"MT","name":"Malta"},{"code":"MU","name":"Mauritius"},{"code":"MV","name":"Maldives"},{"code":"MW","name":"Malawi"},{"code":"MX","name":"Mexico"},{"code":"MY","name":"Malaysia"},{"code":"MZ","name":"Mozambique"},{"code":"NA","name":"Namibia"},{"code":"NC","name":"New Caledonia"},{"code":"NE","name":"Niger"},{"code":"NF","name":"Norfolk Island"},{"code":"NG","name":"Nigeria"},{"code":"NI","name":"Nicaragua"},{"code":"NL","name":"Netherlands"},{"code":"NO","name":"Norway"},{"code":"NP","name":"Nepal"},{"code":"NR","name":"Nauru"},{"code":"NU","name":"Niue"},{"code":"NZ","name":"New Zealand"},{"code":"OM","name":"Oman"},{"code":"PA","name":"Panama"},{"code":"PE","name":"Peru"},{"code":"PF","name":"French Polynesia"},{"code":"PG","name":"Papua New Guinea"},{"code":"PH","name":"Philippines"},{"code":"PK","name":"Pakistan"},{"code":"PL","name":"Poland"},{"code":"PM","name":"Saint Pierre and Miquelon"},{"code":"PN","name":"Pitcairn"},{"code":"PR","name":"Puerto Rico"},{"code":"PS","name":"Palestine, State of"},{"code":"PT","name":"Portugal"},{"code":"PW","name":"Palau"},{"code":"PY","name":"Paraguay"},{"code":"QA","name":"Qatar"},{"code":"RE","name":"Réunion"},{"code":"RO","name":"Romania"},{"code":"RS","name":"Serbia"},{"code":"RU","name":"Russian Federation"},{"code":"RW","name":"Rwanda"},{"code":"SA","name":"Saudi Arabia"},{"code":"SB","name":"Solomon Islands"},{"code":"SC","name":"Seychelles"},{"code":"SD","name":"Sudan"},{"code":"SE","name":"Sweden"},{"code":"SG","name":"Singapore"},{"code":"SH","name":"Saint Helena, Ascension and Tristan da Cunha"},{"code":"SI","name":"Slovenia"},{"code":"SJ","name":"Svalbard and Jan Mayen"},{"code":"SK","name":"Slovakia"},{"code":"SL","name":"Sierra Leone"},{"code":"SM","name":"San Marino"},{"code":"SN","name":"Senegal"},{"code":"SO","name":"Somalia"},{"code":"SR","name":"Suriname"},{"code":"SS","name":"South Sudan"},{"code":"ST","name":"Sao Tome and Principe"},{"code":"SV","name":"El Salvador"},{"code":"SX","name":"Sint Maarten, (Dutch part)"},{"code":"SY","name":"Syrian Arab Republic"},{"code":"SZ","name":"Eswatini"},{"code":"TC","name":"Turks and Caicos Islands"},{"code":"TD","name":"Chad"},{"code":"TF","name":"French Southern Territories"},{"code":"TG","name":"Togo"},{"code":"TH","name":"Thailand"},{"code":"TJ","name":"Tajikistan"},{"code":"TK","name":"Tokelau"},{"code":"TL","name":"Timor-Leste"},{"code":"TM","name":"Turkmenistan"},{"code":"TN","name":"Tunisia"},{"code":"TO","name":"Tonga"},{"code":"TR","name":"Turkey"},{"code":"TT","name":"Trinidad and Tobago"},{"code":"TV","name":"Tuvalu"},{"code":"TW","name":"Taiwan, Province of China"},{"code":"TZ","name":"Tanzania, United Republic of"},{"code":"UA","name":"Ukraine"},{"code":"UG","name":"Uganda"},{"code":"UM","name":"United States Minor Outlying Islands"},{"code":"US","name":"United States of America"},{"code":"UY","name":"Uruguay"},{"code":"UZ","name":"Uzbekistan"},{"code":"VA","name":"Holy See"},{"code":"VC","name":"Saint Vincent and the Grenadines"},{"code":"VE","name":"Venezuela, Bolivarian Republic of"},{"code":"VG","name":"Virgin Islands, British"},{"code":"VI","name":"Virgin Islands, U.S."},{"code":"VN","name":"Viet Nam"},{"code":"VU","name":"Vanuatu"},{"code":"WF","name":"Wallis and Futuna"},{"code":"WS","name":"Samoa"},{"code":"YE","name":"Yemen"},{"code":"YT","name":"Mayotte"},{"code":"ZA","name":"South Africa"},{"code":"ZM","name":"Zambia"},{"code":"ZW","name":"Zimbabwe"}]')},"861b":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Dialog",{ref:"dialog",attrs:{"max-width":e.maxWidth,title:e.title,icon:e.titleIcon},on:{cancel:e.cancelForm},scopedSlots:e._u([null!=e.submitText||null!=e.cancelText?{key:"actions",fn:function(){return[null!=e.submitText?a("v-btn",{attrs:{text:"",color:"primary"},on:{click:e.submit}},[e.loading?a("v-progress-circular",{attrs:{indeterminate:"",size:"25",width:"2"}}):e._e(),e.loading?e._e():a("v-icon",{attrs:{left:""}},[e._v("mdi-check")]),e.loading?e._e():a("div",[e._v(" "+e._s(e.submitText)+" ")])],1):e._e(),null!=e.cancelText?a("v-btn",{attrs:{color:"lighten-5",text:""},on:{click:e.cancelForm}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-close")]),e._v(" "+e._s(e.cancelText)+" ")],1):e._e()]},proxy:!0}:null],null,!0)},[e.formSchema?[a("GenForm",{ref:"form",attrs:{"form-schema":e.formSchema,"error-message":e.errorMessage,"hide-buttons":!0,"cancel-text":e.cancelText,"submit-text":e.submitText,"options-extra":e.optionsExtra},on:{submit:function(t){return e.$emit("submit",e.item)},cancel:function(t){e.$refs.dialog.open=!1},mounted:e.genFormMounted,updated:function(t){return e.$emit("updated")},notValid:function(t){e.loading=!1}},scopedSlots:e._u([e._l(e.$slots,(function(t,a){return{key:a,fn:function(){return[e._t(a)]},proxy:!0}}))],null,!0)})]:e._e()],2)},r=[],o=(a("a9e3"),a("9e77")),i=a("3f7a"),c={name:"DialogForm",components:{Dialog:i["a"],GenForm:o["a"]},props:{title:String,titleIcon:String,formSchema:Object,errorMessage:String,maxWidth:{type:Number,default:500},submitText:{type:String,default:"submit"},cancelText:{type:String,default:"cancel"},slots:Array},data:function(){return{dataBeforeMount:null,item:null,loading:!1,optionsExtra:{editMode:"inline"}}},methods:{show:function(e){this.$refs.dialog.show(),this.item=e},closeAndReset:function(){return this.loading=!1,this.$refs.dialog.close(),this.$refs.form.cancelForm()},getData:function(){return this.$refs.form?this.$refs.form.getData():Object},setData:function(e){void 0===this.$refs.form?this.dataBeforeMount=e:this.$refs.form.setData(e)},validateAndRun:function(){return this.$refs.form.validateAndRun()},cancelForm:function(){return this.loading=!1,this.$refs.form.cancelForm()},setErrorMessage:function(e){return this.loading=!1,this.$refs.form.setErrorMessage(e)},genFormMounted:function(){this.$refs.form.setData(this.dataBeforeMount)},submit:function(){this.loading||(this.loading=!0,this.$refs.form.validateAndRun())}},computed:{open:function(){return this.$refs.dialog.open}}},d=c,s=a("2877"),m=a("6544"),u=a.n(m),l=a("8336"),f=a("132d"),p=a("490a"),h=Object(s["a"])(d,n,r,!1,null,"b925c67c",null);t["a"]=h.exports;u()(h,{VBtn:l["a"],VIcon:f["a"],VProgressCircular:p["a"]})},8826:function(e,t,a){"use strict";a("d81d"),a("4fad"),a("99af");var n=a("fe0b"),r=a("a479"),o=a.n(r),i=a("dc3a"),c=a("d70b"),d=c["a"].backend_url,s=Object.entries(o.a.getCodeList()).map((function(e){return{const:e[0].toUpperCase(),title:"".concat(Object(i["a"])(e[0])," ").concat(e[1])}}));t["a"]={userSelectField:{type:"object",title:n["a"].t("user"),"x-fromUrl":"".concat(d,"/user/?query={q}&max=10"),"x-itemKey":"id","x-itemTitle":"username","x-itemIcon":"avatar"},serverbundleSelectField:{type:"object",title:n["a"].t("serverbundle"),"x-fromUrl":"".concat(d,"/server/bundle/"),"x-itemKey":"id","x-itemTitle":"name"},serverTypeSelectField:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t={type:"string",title:n["a"].t("type"),default:"GMOD",readOnly:e,"x-fromUrl":"".concat(d,"/server/type/")};return t},colorPicker:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"color",t=arguments.length>1?arguments[1]:void 0,a={type:"string",title:n["a"].t(e),format:"hexcolor",default:"#000000",description:null!=t?n["a"].t(t):null,"x-props":{showSwatches:!0,hideCanvas:!0,hideSliders:!0,hideInputs:!0,hideModeSwitch:!0}};return a},packetCategorySelectField:{type:"object",title:n["a"].t("category"),"x-fromUrl":"".concat(d,"/packet/category/"),"x-itemKey":"id","x-itemTitle":"name"},packetSelectField:{type:"object",title:n["a"].t("packet"),"x-fromUrl":"".concat(d,"/packet/"),"x-itemKey":"id","x-itemTitle":"title"},packetsSelectField:{type:"array",title:n["a"].t("packets"),"x-fromUrl":"".concat(d,"/packet/"),"x-itemKey":"id","x-itemTitle":"title",items:{type:"object"}},rewardsSelectField:{type:"array",title:n["a"].t("rewards"),items:{type:"object"},"x-fromUrl":"".concat(d,"/packet/reward?query={q}"),"x-itemKey":"id","x-itemTitle":"name"},iconPicker:{title:n["a"].t("icon"),type:"string","x-slots":{"append-outer":'<a href="https://materialdesignicons.com/" style="white-space: nowrap;" target="_blank">'.concat(n["a"].t("forms.iconDescription"),"</a>")},"x-display":"icon","x-fromUrl":"".concat(d,"/design/icons?query={q}")},countryCodeField:{type:"string",title:n["a"].t("country"),oneOf:s},imageURLField:{type:"string",title:n["a"].t("imageURL"),pattern:"^https://.+$"},apiURL:d}},a479:function(e,t,a){"use strict";var n=a("748f"),r={},o={};function i(e){r[e.name.toLowerCase()]=e.code,o[e.code.toLowerCase()]=e.name}n.forEach(i),t.overwrite=function(e){e&&e.length&&e.forEach((function(e){var t=n.findIndex((function(t){return t.code===e.code}));n[t]=e,i(e)}))},t.getCode=function(e){return r[e.toLowerCase()]},t.getName=function(e){return o[e.toLowerCase()]},t.getNames=function(){return n.map((function(e){return e.name}))},t.getCodes=function(){return n.map((function(e){return e.code}))},t.getCodeList=function(){return o},t.getNameList=function(){return r},t.getData=function(){return n}},afdd:function(e,t,a){"use strict";var n=a("8336");t["a"]=n["a"]},d36a:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("DialogForm",{ref:"requirementAddDialog",attrs:{"form-schema":e.requirementAddForm},on:{updated:e.updateConditionalForm,submit:e.addRequirement}},[a("template",{slot:"type-after"},[e.requirementAddFormConditional?a("gen-form",{ref:"requirementAddDialogConditional",attrs:{"form-schema":e.requirementAddFormConditional,"hide-buttons":!0}}):e._e()],1)],2),a("DialogForm",{ref:"requirementSetAddDialog",attrs:{"form-schema":e.requirementSetAddForm,title:e.$t("settings.addRequirementSet")},on:{submit:e.addRequirementSet}}),a("Dialog",{ref:"requirementSetEditDialog",attrs:{title:e.$t("settings.editRequirementSet"),"max-width":1e3}},[a("h3",{staticClass:"display-h3 mt-5"},[e._v(e._s(e.$t("general")))]),a("gen-form",{ref:"requirementSetEditForm",attrs:{"form-schema":e.requirementSetAddForm},on:{submit:e.editRequirementSet}}),a("v-divider",{staticClass:"mt-5"}),a("h3",{staticClass:"display-h3 mt-5"},[e._v(e._s(e.$t("requirements")))]),a("DataTable",{attrs:{headers:e.requirementHeaders,items:e.requirements},scopedSlots:e._u([{key:"item.hId",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.requirements.findIndex((function(e){return e.id===a.id})))+" ")]}},{key:"item.actions",fn:function(t){var n=t.item;return[a("div",{staticClass:"text-right"},[a("v-btn",{staticClass:"mr-1",attrs:{outlined:"",color:"primary",small:"",disabled:""},on:{click:function(t){return e.openEditRequirementSetDialog(n)}}},[a("v-icon",[e._v(" mdi-pencil ")])],1),a("v-btn",{attrs:{outlined:"",color:"error",disabled:"",small:""},on:{click:function(t){return e.openDeleteRequirementSetDialog(n)}}},[a("v-icon",[e._v(" mdi-delete ")])],1)],1)]}},{key:"footer-right",fn:function(){return[a("v-btn",{attrs:{color:"success",outlined:""},on:{click:function(t){e.openRequirementAddDialog(e.$refs.requirementSetEditDialog.getItem())}}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-plus")]),a("span",[e._v(e._s(e.$t("settings.addRequirement")))])],1)]},proxy:!0}])}),a("v-divider",{staticClass:"mt-5"}),a("h3",{staticClass:"display-h3 mt-5"},[e._v(e._s(e.$t("settings.logicFormula")))]),a("p",[e._v(e._s(e.$t("example"))+" ID & (ID | ID) "),a("br"),e._v(" "+e._s(e.$t("settings.formulaSymbolOr"))),a("br"),e._v(" "+e._s(e.$t("settings.formulaSymbolAnd")))]),a("v-text-field",{attrs:{label:"Formula"},model:{value:e.formula,callback:function(t){e.formula=t},expression:"formula"}}),a("v-btn",{staticClass:"primary",attrs:{disabled:!e.formula,loading:e.formulaBtnLoading},on:{click:e.validateFormula}},[e.formulaScss?a("v-icon",{attrs:{large:"",color:"success"}},[e._v("mdi-check")]):a("span",[e._v(e._s(e.$t("settings.editFormula")))])],1),null!=e.formulaMsg?a("v-row",[a("v-col",{staticClass:"mt-4",attrs:{cols:"12"}},[a("v-alert",{attrs:{type:"error"}},[e._v(" "+e._s(e.$t(e.formulaMsg))+" ")])],1)],1):e._e()],1),a("v-row",[a("v-col",{staticClass:"mt-4",attrs:{cols:"12"}},[a("v-alert",{attrs:{type:"warning"}},[e._v(" "+e._s(e.$t("settings.formulaBeta"))+" ")])],1)],1),a("DataTable",{attrs:{headers:e.headers,items:e.requirementSets},scopedSlots:e._u([{key:"item.actions",fn:function(t){var n=t.item;return[a("div",{staticClass:"text-right"},[a("v-btn",{staticClass:"mr-1",attrs:{outlined:"",color:"primary",small:""},on:{click:function(t){return e.openEditRequirementSetDialog(n)}}},[a("v-icon",[e._v(" mdi-pencil ")])],1),a("v-btn",{attrs:{outlined:"",color:"error",small:""},on:{click:function(t){return e.openDeleteRequirementSetDialog(n)}}},[a("v-icon",[e._v(" mdi-delete ")])],1)],1)]}},{key:"footer-right",fn:function(){return[a("v-btn",{attrs:{color:"success",outlined:""},on:{click:function(t){return e.$refs.requirementSetAddDialog.show()}}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-plus")]),a("span",[e._v(e._s(e.$t("settings.addRequirementSet")))])],1)]},proxy:!0}])})],1)},r=[],o=a("5530"),i=a("1da1"),c=(a("b0c0"),a("ac1f"),a("5319"),a("96cf"),a("3835")),d=(a("159b"),a("4fad"),a("d3b7"),a("25f0"),a("fe0b")),s={ACTIVE:["ACTIVE","INACTIVE","NEVER_ACTIVE"],NUMBER:["EQ","LEQ","GEQ","LT","GT"],HAVE:["HAVE"]},m={GROUP_MEMBER:["mdi-account-multiple",s.ACTIVE],PERMISSION_LEVEL:["mdi-numeric-9-plus-box-outline",s.NUMBER],PERMISSION_LEVEL_SB:["mdi-numeric-9-plus-box-multiple-outline",s.NUMBER],PROPERTY:["mdi-asterisk",s.HAVE],PROPERTY_SB:["mdi-atom",s.HAVE],USER_ATTRIBUTE:["mdi-account-details",s.HAVE],PACKET:["mdi-gift-open",s.ACTIVE],DATE:["mdi-calendar",s.NUMBER],USER_SELF:["mdi-account-box",s.HAVE]};function u(){var e=[];Object.entries(m).forEach((function(t){var a=Object(c["a"])(t,2),n=a[0],r=a[1],o={const:"",title:"",icon:""};o.const=n,o.title=d["a"].t("_requirement.types.".concat(n)).toString(),o.icon=r[0].toString(),e.push(o)}));var t={type:"object",required:["type","requirement_set_id"],properties:{type:{type:"string",title:d["a"].t("_requirement.requirementType"),"x-display":"icon","x-itemIcon":"icon",default:"GROUP_MEMBER",oneOf:e}}};return t}var l={returnForm:u,types:m,typeMapping:s},f=(a("99af"),a("8826")),p=a("07d4"),h=f["a"].apiURL,g={EQ:"mdi-equal",LEQ:"mdi-less-than-or-equal",GEQ:"mdi-greater-than-or-equal",LT:"mdi-less-than",GT:"mdi-greater-than",ACTIVE:"mdi-account-check",INACTIVE:"mdi-account-alert",NEVER_ACTIVE:"mdi-account-cancel",HAVE:"mdi-account-plus"};function b(e){if("PERMISSION_LEVEL"===e||"PERMISSION_LEVEL_SB"===e)return{value:{type:"number",title:d["a"].t("_requirement.permissionLevel"),minimum:0,maximum:100}};if("GROUP_MEMBER"===e)return{value:{type:"string",title:d["a"].t("group"),"x-fromUrl":"".concat(h,"/group/"),"x-itemKey":"id","x-itemTitle":"name"}};if("PROPERTY"===e||"PROPERTY_SB"===e){var t=[];return Object.entries(p["a"]).forEach((function(e){var a=Object(c["a"])(e,2),n=a[0],r=a[1],o={const:"",title:""};o.const=n,o.title="".concat(n,": ").concat(d["a"].t("_properties.".concat(r))),t.push(o)})),{value:{type:"string",title:d["a"].t("property"),oneOf:t}}}return"DATE"===e?{begin:{type:"string",title:d["a"].t("begin"),format:"date-time",default:new Date},end:{type:"string",title:d["a"].t("end"),format:"date-time",description:d["a"].t("_dashboard.membershipEndDescription")}}:"PACKET"===e?{value:f["a"].packetSelectField}:null}function v(e){var t=[],a=l.types[e][1];a.forEach((function(e){var a={const:"",title:"",icon:""};a.const=e,a.title=d["a"].t("_requirement.operators.".concat(e)).toString(),a.icon=g[e],t.push(a)}));var n={type:"object",required:["type"],properties:Object(o["a"])(Object(o["a"])({operator:{type:"string",title:d["a"].t("_requirement.requirementOperator"),"x-display":"icon","x-itemIcon":"icon",default:"ACTIVE",oneOf:t}},b(e)),{},{requirement_set_id:{type:"string",title:d["a"].t("_requirement.requirementSet"),"x-fromUrl":"".concat(h,"/requirement/set/"),"x-itemKey":"id","x-itemTitle":"name",readOnly:!0}})};return n}var S={returnForm:v},y={type:"object",required:["name"],properties:{name:{type:"string",title:d["a"].t("name")}}},E=a("861b"),M=a("3f7a"),_=a("1fdb"),R=a("9e77"),A=a("cc3b"),q={name:"Requirements",components:{GenForm:R["a"],DialogForm:E["a"],DataTable:_["a"],Dialog:M["a"]},data:function(){return{requirementAddForm:l.returnForm(),requirementAddFormConditional:null,requirementSetAddForm:y,requirementSets:null,requirements:null,headers:[{text:this.$t("name"),value:"name"},{text:this.$t("actions"),value:"actions",sortable:!1,align:"right"}],requirementHeaders:[{text:"ID",value:"hId"},{text:this.$t("type"),value:"type"},{text:this.$t("operator"),value:"operator"},{text:this.$t("value"),value:"value"},{text:this.$t("actions"),value:"actions",sortable:!1,align:"right"}],formula:null,formulaMsg:null,formulaBtnLoading:null,formulaScss:null}},beforeMount:function(){this.fetchData()},methods:{fetchData:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,A["a"];case 2:return t.sent.requirements_getRequirementSets().then((function(t){e.requirementSets=t.data})),t.next=5,A["a"];case 5:t.sent.requirements_getRequirements().then((function(t){e.requirements=t.data}));case 6:case"end":return t.stop()}}),t)})))()},updateConditionalForm:function(){if(this.$refs.requirementAddDialog.getData().type){var e=this.$refs.requirementAddDialog.getData(),t=e.type;this.requirementAddFormConditional=S.returnForm(t),this.$refs.requirementAddDialogConditional&&this.$refs.requirementAddDialogConditional.setData({operator:l.types[t][1][0]})}},addRequirementSet:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.$refs.requirementSetAddDialog.getData(),t.next=3,A["a"];case 3:t.sent.requirements_createRequirementSet(null,a).then((function(){e.fetchData(),e.$refs.requirementSetAddDialog.closeAndReset()})).catch((function(t){e.$refs.requirementSetAddDialog.setErrorMessage(t.response.data.detail)}));case 4:case"end":return t.stop()}}),t)})))()},addRequirement:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=Object(o["a"])(Object(o["a"])({},e.$refs.requirementAddDialog.getData()),e.$refs.requirementAddDialogConditional.getData()),"DATE"===a.type&&(a.value=[a.begin,a.end]),t.next=4,A["a"];case 4:t.sent.requirements_createRequirement(null,a).then((function(){e.fetchData(),e.$refs.requirementAddDialog.closeAndReset(),e.$refs.requirementAddDialogConditional.cancelForm()})).catch((function(t){e.$refs.requirementAddDialog.setErrorMessage(t.response.data.detail)}));case 5:case"end":return t.stop()}}),t)})))()},openEditRequirementSetDialog:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$refs.requirementSetEditDialog.show(e);case 2:t.$refs.requirementSetEditForm.setData({name:e.name});case 3:case"end":return a.stop()}}),a)})))()},openRequirementAddDialog:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$refs.requirementAddDialog.show();case 2:t.$refs.requirementAddDialogConditional.setData({requirement_set_id:e.id});case 3:case"end":return a.stop()}}),a)})))()},editRequirementSet:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$refs.requirementSetEditForm.loading=!0,a=e.$refs.requirementSetEditDialog.getItem(),t.next=4,A["a"];case 4:t.sent.requirements_editRequirementSet(a.id,e.$refs.requirementSetEditForm.getData()).then((function(){e.fetchData(),e.$refs.requirementSetEditForm.loading=!1})).catch((function(t){e.$refs.requirementSetEditForm.setErrorMessage(t.response.data.detail),e.$refs.requirementSetEditForm.loading=!1}));case 5:case"end":return t.stop()}}),t)})))()},editFormula:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.$refs.requirementSetEditDialog.getItem(),a.next=3,A["a"];case 3:a.sent.requirements_editRequirementSet(n.id,{formula:e}).then((function(){t.formulaBtnLoading=!1,t.formulaScss=!0,setTimeout((function(){t.formulaScss=!1}),5e3)})).catch((function(e){t.formulaBtnLoading=!1,t.formulaMsg=e.response.data.detail}));case 4:case"end":return a.stop()}}),a)})))()},validateFormula:function(){this.formulaBtnLoading=!0;var e=null;try{e=this.validateF(this.formula.replace(/ /g,"")),this.editFormula(e)}catch(t){t instanceof TypeError?this.formulaMsg="settings.formulaTypeError":this.formulaMsg="settings.formulaError",console.log(t),this.formulaBtnLoading=!1}},validateF:function(e){for(var t=this,a="",n=0,r=[],o=0;o<e.length;o+=1){switch(!0){case"("===e[o]:n+=1;break;case")"===e[o]:n-=1;break;default:}a+=e[o],0===n&&")"===e[o]?(r.push(a),a=""):0===n&&")"!==e[o]&&("&"!==e[o]&&"|"!==e[o]||(a.length>1&&r.push(a.substring(0,a.length-1)),a="",r.push(e[o])))}a.length>0&&r.push(a);var i=[];return r.forEach((function(e){switch(!0){case/(\(.+?\))/.test(e):i.push(t.validateF(e.substring(1,e.length-1)));break;case/(\d+)|(\(\d+\))/.test(e):i.push([t.requirements[e].id]);break;case/(&|\|)/.test(e):i.push([e]);break;default:throw new Error("Error While Parsing ".concat(e))}})),i}}},x=q,C=a("2877"),T=a("6544"),D=a.n(T),I=a("0798"),F=a("8336"),w=a("62ad"),k=a("ce7e"),B=a("132d"),$=a("0fd9"),G=a("8654"),L=Object(C["a"])(x,n,r,!1,null,"02289217",null);t["default"]=L.exports;D()(L,{VAlert:I["a"],VBtn:F["a"],VCol:w["a"],VDivider:k["a"],VIcon:B["a"],VRow:$["a"],VTextField:G["a"]})},dc3a:function(e,t,a){"use strict";function n(e){return r(e[0])+r(e[1])}function r(e){return String.fromCodePoint(127397+e.toUpperCase().charCodeAt(0))}a.d(t,"a",(function(){return n}))},e4cd:function(e,t,a){"use strict";a("a9e3"),a("caad"),a("b0c0");var n=a("d9bd"),r=a("2b0e");t["a"]=r["default"].extend({name:"mobile",props:{mobileBreakpoint:{type:[Number,String],default:function(){return this.$vuetify?this.$vuetify.breakpoint.mobileBreakpoint:void 0},validator:function(e){return!isNaN(Number(e))||["xs","sm","md","lg","xl"].includes(String(e))}}},computed:{isMobile:function(){var e=this.$vuetify.breakpoint,t=e.mobile,a=e.width,n=e.name,r=e.mobileBreakpoint;if(r===this.mobileBreakpoint)return t;var o=parseInt(this.mobileBreakpoint,10),i=!isNaN(o);return i?a<o:n===this.mobileBreakpoint}},created:function(){this.$attrs.hasOwnProperty("mobile-break-point")&&Object(n["d"])("mobile-break-point","mobile-breakpoint",this)}})}}]);
//# sourceMappingURL=chunk-6f599830.3b4ab6d3.js.map