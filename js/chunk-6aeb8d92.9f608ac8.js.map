{"version":3,"sources":["webpack:///./src/components/SettingComponents/PacketCategories.vue?6240","webpack:///./src/forms/PacketCategoryForm.ts","webpack:///src/components/SettingComponents/PacketCategories.vue","webpack:///./src/components/SettingComponents/PacketCategories.vue?8660","webpack:///./src/components/SettingComponents/PacketCategories.vue?a8e4","webpack:///./src/components/BoolIcon.vue?58e1","webpack:///src/components/BoolIcon.vue","webpack:///./src/components/BoolIcon.vue?2a15","webpack:///./src/components/BoolIcon.vue","webpack:///./src/components/SettingComponents/PacketCategories.vue?611f"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","_s","$t","attrs","headers","categories","scopedSlots","_u","key","fn","ref","item","enabled","staticClass","on","$event","showEditDialog","$refs","deleteCategoryDialog","show","createCategoryDialog","categorySchema","createCategory","editCategory","deleteCategory","staticRenderFns","type","required","properties","name","title","i18n","t","image_url","Common","imageURLField","description","default","components","BoolIcon","DeleteConfirmationDialog","DialogForm","DataTable","SettingTitle","data","beforeMount","queryData","methods","editCategoryDialog","setData","category","mounted","onEnd","openapi","api","packet_editCategory","component","VBtn","VDivider","VIcon","props","value","Boolean"],"mappings":"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","file":"js/chunk-6aeb8d92.9f608ac8.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('SettingTitle',[_vm._v(_vm._s(_vm.$t('categories')))]),_c('DataTable',{attrs:{\"headers\":_vm.headers,\"items\":_vm.categories,\"id\":\"categories-table\",\"disable-sort\":\"\",\"hide-default-footer\":\"\",\"search\":true},scopedSlots:_vm._u([{key:\"item.enabled\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('BoolIcon',{attrs:{\"value\":item.enabled}})]}},{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',{staticClass:\"text-right\"},[_c('v-btn',{staticClass:\"mr-1\",attrs:{\"outlined\":\"\",\"color\":\"primary\",\"small\":\"\"},on:{\"click\":function($event){return _vm.showEditDialog(item)}}},[_c('v-icon',[_vm._v(\" mdi-pencil \")])],1),_c('v-btn',{attrs:{\"outlined\":\"\",\"color\":\"error\",\"small\":\"\"},on:{\"click\":function($event){return _vm.$refs.deleteCategoryDialog.show(item)}}},[_c('v-icon',[_vm._v(\" mdi-delete \")])],1)],1)]}}])}),_c('v-divider',{staticClass:\"mb-3\"}),_c('div',[_c('v-btn',{attrs:{\"outlined\":\"\",\"color\":\"success\"},on:{\"click\":function($event){return _vm.$refs.createCategoryDialog.show()}}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-plus\")]),_c('span',[_vm._v(_vm._s(_vm.$t('_packetCategory.labels.create')))])],1)],1),_c('DialogForm',{ref:\"createCategoryDialog\",attrs:{\"form-schema\":_vm.categorySchema,\"titleIcon\":\"mdi-star\",\"submitText\":_vm.$t('create'),\"title\":_vm.$t('_packetCategory.labels.create')},on:{\"submit\":_vm.createCategory}}),_c('DialogForm',{ref:\"editCategoryDialog\",attrs:{\"form-schema\":_vm.categorySchema,\"titleIcon\":\"mdi-star\",\"submitText\":_vm.$t('edit'),\"title\":_vm.$t('_packetCategory.labels.edit')},on:{\"submit\":_vm.editCategory}}),_c('DeleteConfirmationDialog',{ref:\"deleteCategoryDialog\",on:{\"submit\":_vm.deleteCategory}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import i18n from '@/plugins/i18n';\nimport Common from '@/forms/Common';\n\nexport default {\n  type: 'object',\n  required: ['name', 'enabled'],\n  properties: {\n    name: {\n      type: 'string',\n      title: i18n.t('name'),\n    },\n    image_url: {\n      ...Common.imageURLField,\n      description: i18n.t('_packetCategory.labels.imageDetail'),\n    },\n    enabled: {\n      type: 'boolean',\n      title: i18n.t('enabled'),\n      default: true,\n    },\n  },\n};\n","<template>\n  <div>\n    <SettingTitle>{{ $t('categories') }}</SettingTitle>\n\n    <DataTable\n      :headers=\"headers\"\n      :items=\"categories\"\n      id=\"categories-table\"\n      disable-sort\n      hide-default-footer\n      :search=\"true\">\n      <template v-slot:item.enabled=\"{ item }\">\n        <BoolIcon :value=\"item.enabled\"></BoolIcon>\n      </template>\n      <template v-slot:item.actions=\"{ item }\">\n        <div class=\"text-right\">\n          <v-btn outlined color=\"primary\" small @click=\"showEditDialog(item)\" class=\"mr-1\">\n            <v-icon>\n              mdi-pencil\n            </v-icon>\n          </v-btn>\n          <v-btn outlined color=\"error\" small @click=\"$refs.deleteCategoryDialog.show(item)\">\n            <v-icon>\n              mdi-delete\n            </v-icon>\n          </v-btn>\n        </div>\n      </template>\n    </DataTable>\n    <v-divider class=\"mb-3\"/>\n    <div>\n      <v-btn outlined color=\"success\" @click=\"$refs.createCategoryDialog.show()\">\n        <v-icon left>mdi-plus</v-icon>\n        <span>{{ $t('_packetCategory.labels.create') }}</span>\n      </v-btn>\n    </div>\n    <DialogForm\n      ref=\"createCategoryDialog\"\n      :form-schema=\"categorySchema\"\n      titleIcon=\"mdi-star\"\n      :submitText=\"$t('create')\"\n      @submit=\"createCategory\"\n      :title=\"$t('_packetCategory.labels.create')\"/>\n    <DialogForm\n      ref=\"editCategoryDialog\"\n      :form-schema=\"categorySchema\"\n      titleIcon=\"mdi-star\"\n      :submitText=\"$t('edit')\"\n      @submit=\"editCategory\"\n      :title=\"$t('_packetCategory.labels.edit')\"/>\n    <DeleteConfirmationDialog\n      ref=\"deleteCategoryDialog\"\n      @submit=\"deleteCategory\"/>\n  </div>\n</template>\n\n<script>\nimport Sortable from 'sortablejs';\nimport SettingTitle from './SettingTitle.vue';\nimport DataTable from '../DataTable.vue';\nimport openapi from '../../api/openapi';\nimport DialogForm from '../DialogForm.vue';\nimport DeleteConfirmationDialog from '../DeleteConfirmationDialog.vue';\nimport CategoryForm from '../../forms/PacketCategoryForm';\nimport BoolIcon from '../BoolIcon.vue';\n\nexport default {\n  name: 'PacketCategories',\n  components: {\n    BoolIcon,\n    DeleteConfirmationDialog,\n    DialogForm,\n    DataTable,\n    SettingTitle,\n  },\n  data() {\n    return {\n      headers: [\n        { text: this.$t('name'), value: 'name' },\n        { text: this.$t('enabled'), value: 'enabled' },\n        {\n          text: this.$t('actions'), value: 'actions', width: '200px', sortable: false, align: 'right',\n        },\n      ],\n      categories: null,\n      categorySchema: CategoryForm,\n    };\n  },\n  beforeMount() {\n    this.queryData();\n  },\n  methods: {\n    async queryData() {\n      const api = await openapi;\n\n      api.packet_getCategories().then((rsp) => {\n        this.categories = rsp.data;\n      }).catch((err) => {\n        console.log(err);\n        this.utils.notifyUnexpectedError(err.response.data);\n      });\n    },\n    async createCategory() {\n      const data = this.$refs.createCategoryDialog.getData();\n\n      const api = await openapi;\n\n      api.packet_createCategory(null, data).then(() => {\n        this.queryData();\n        this.$notify({\n          title: this.$t('_packetCategory.messages.createSuccess'),\n          type: 'success',\n        });\n        this.$refs.createCategoryDialog.closeAndReset();\n      }).catch((err) => {\n        console.log(err);\n        this.$refs.createCategoryDialog.setErrorMessage(err.response.data);\n      });\n    },\n    async editCategory(category) {\n      const data = this.$refs.editCategoryDialog.getData();\n\n      const api = await openapi;\n\n      api.packet_editCategory({ uuid: category.id }, data).then(() => {\n        this.queryData();\n        this.$notify({\n          title: this.$t('_packetCategory.messages.editSuccess'),\n          type: 'success',\n        });\n        this.$refs.editCategoryDialog.closeAndReset();\n      }).catch((err) => {\n        console.log(err);\n        this.$refs.editCategoryDialog.setErrorMessage(err.response.data);\n      });\n    },\n    async deleteCategory(category) {\n      const api = await openapi;\n\n      api.packet_deleteCategory({ uuid: category.id }).then(() => {\n        this.queryData();\n        this.$notify({\n          title: this.$t('_packetCategory.messages.deleteSuccess'),\n          type: 'success',\n        });\n        this.$refs.deleteCategoryDialog.closeAndReset();\n      }).catch((err) => {\n        console.log(err);\n        this.$refs.deleteCategoryDialog.setErrorMessage(err.response.data);\n      });\n    },\n    showEditDialog(category) {\n      const data = { ...category };\n\n      this.$refs.editCategoryDialog.setData(data);\n      this.$refs.editCategoryDialog.show(category);\n    },\n  },\n  mounted() {\n    const table = document.querySelector('#categories-table tbody');\n    Sortable.create(table, {\n      onEnd: ({ newIndex, oldIndex }) => {\n        const rowSelected = this.categories.splice(oldIndex, 1)[0];\n        this.categories.splice(newIndex, 0, rowSelected);\n\n        openapi.then((api) => {\n          for (let i = newIndex; i < this.categories.length; i += 1) {\n            const cat = this.categories[i];\n            api.packet_editCategory({ uuid: cat.id }, { sort_id: i })\n              .catch((err) => {\n                console.log(err);\n                this.utils.notifyUnexpectedError(err.response.data);\n              });\n          }\n        });\n      },\n    });\n  },\n};\n</script>\n\n<style>\n  #categories-table tr {\n    cursor: move  !important;\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PacketCategories.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PacketCategories.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PacketCategories.vue?vue&type=template&id=ea8117fe&\"\nimport script from \"./PacketCategories.vue?vue&type=script&lang=js&\"\nexport * from \"./PacketCategories.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PacketCategories.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VBtn,VDivider,VIcon})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.value)?_c('v-icon',{attrs:{\"color\":\"green\"}},[_vm._v(\"mdi-check-circle\")]):_c('v-icon',{attrs:{\"color\":\"red\"}},[_vm._v(\"mdi-close-circle\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <v-icon color=\"green\" v-if=\"value\">mdi-check-circle</v-icon>\n    <v-icon color=\"red\" v-else>mdi-close-circle</v-icon>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'BoolIcon',\n  props: {\n    value: Boolean,\n  },\n};\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BoolIcon.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BoolIcon.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BoolIcon.vue?vue&type=template&id=39c5d26a&scoped=true&\"\nimport script from \"./BoolIcon.vue?vue&type=script&lang=js&\"\nexport * from \"./BoolIcon.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"39c5d26a\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VIcon})\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PacketCategories.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}