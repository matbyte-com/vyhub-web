(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6aeb8d92"],{"289f":function(e,t,a){},"2c57":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("SettingTitle",[e._v(e._s(e.$t("categories")))]),a("DataTable",{attrs:{headers:e.headers,items:e.categories,id:"categories-table","disable-sort":"","hide-default-footer":"",search:!0},scopedSlots:e._u([{key:"item.enabled",fn:function(e){var t=e.item;return[a("BoolIcon",{attrs:{value:t.enabled}})]}},{key:"item.actions",fn:function(t){var r=t.item;return[a("div",{staticClass:"text-right"},[a("v-btn",{staticClass:"mr-1",attrs:{outlined:"",color:"primary",small:""},on:{click:function(t){return e.showEditDialog(r)}}},[a("v-icon",[e._v(" mdi-pencil ")])],1),a("v-btn",{attrs:{outlined:"",color:"error",small:""},on:{click:function(t){return e.$refs.deleteCategoryDialog.show(r)}}},[a("v-icon",[e._v(" mdi-delete ")])],1)],1)]}}])}),a("v-divider",{staticClass:"mb-3"}),a("div",[a("v-btn",{attrs:{outlined:"",color:"success"},on:{click:function(t){return e.$refs.createCategoryDialog.show()}}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-plus")]),a("span",[e._v(e._s(e.$t("_packetCategory.labels.create")))])],1)],1),a("DialogForm",{ref:"createCategoryDialog",attrs:{"form-schema":e.categorySchema,titleIcon:"mdi-star",submitText:e.$t("create"),title:e.$t("_packetCategory.labels.create")},on:{submit:e.createCategory}}),a("DialogForm",{ref:"editCategoryDialog",attrs:{"form-schema":e.categorySchema,titleIcon:"mdi-star",submitText:e.$t("edit"),title:e.$t("_packetCategory.labels.edit")},on:{submit:e.editCategory}}),a("DeleteConfirmationDialog",{ref:"deleteCategoryDialog",on:{submit:e.deleteCategory}})],1)},n=[],o=a("5530"),i=a("1da1"),c=(a("a434"),a("96cf"),a("aa47")),s=a("d171"),l=a("1fdb"),u=a("cc3b"),d=a("861b"),g=a("3000"),f=a("fe0b"),m=a("8826"),p={type:"object",required:["name","enabled"],properties:{name:{type:"string",title:f["a"].t("name")},image_url:Object(o["a"])(Object(o["a"])({},m["a"].imageURLField),{},{description:f["a"].t("_packetCategory.labels.imageDetail")}),enabled:{type:"boolean",title:f["a"].t("enabled"),default:!0}}},y=a("4562"),h={name:"PacketCategories",components:{BoolIcon:y["a"],DeleteConfirmationDialog:g["a"],DialogForm:d["a"],DataTable:l["a"],SettingTitle:s["default"]},data:function(){return{headers:[{text:this.$t("name"),value:"name"},{text:this.$t("enabled"),value:"enabled"},{text:this.$t("actions"),value:"actions",width:"200px",sortable:!1,align:"right"}],categories:null,categorySchema:p}},beforeMount:function(){this.queryData()},methods:{queryData:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u["a"];case 2:a=t.sent,a.packet_getCategories().then((function(t){e.categories=t.data})).catch((function(t){console.log(t),e.utils.notifyUnexpectedError(t.response.data)}));case 4:case"end":return t.stop()}}),t)})))()},createCategory:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.$refs.createCategoryDialog.getData(),t.next=3,u["a"];case 3:r=t.sent,r.packet_createCategory(null,a).then((function(){e.queryData(),e.$notify({title:e.$t("_packetCategory.messages.createSuccess"),type:"success"}),e.$refs.createCategoryDialog.closeAndReset()})).catch((function(t){console.log(t),e.$refs.createCategoryDialog.setErrorMessage(t.response.data)}));case 5:case"end":return t.stop()}}),t)})))()},editCategory:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=t.$refs.editCategoryDialog.getData(),a.next=3,u["a"];case 3:n=a.sent,n.packet_editCategory({uuid:e.id},r).then((function(){t.queryData(),t.$notify({title:t.$t("_packetCategory.messages.editSuccess"),type:"success"}),t.$refs.editCategoryDialog.closeAndReset()})).catch((function(e){console.log(e),t.$refs.editCategoryDialog.setErrorMessage(e.response.data)}));case 5:case"end":return a.stop()}}),a)})))()},deleteCategory:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,u["a"];case 2:r=a.sent,r.packet_deleteCategory({uuid:e.id}).then((function(){t.queryData(),t.$notify({title:t.$t("_packetCategory.messages.deleteSuccess"),type:"success"}),t.$refs.deleteCategoryDialog.closeAndReset()})).catch((function(e){console.log(e),t.$refs.deleteCategoryDialog.setErrorMessage(e.response.data)}));case 4:case"end":return a.stop()}}),a)})))()},showEditDialog:function(e){var t=Object(o["a"])({},e);this.$refs.editCategoryDialog.setData(t),this.$refs.editCategoryDialog.show(e)}},mounted:function(){var e=this,t=document.querySelector("#categories-table tbody");c["a"].create(t,{onEnd:function(t){var a=t.newIndex,r=t.oldIndex,n=e.categories.splice(r,1)[0];e.categories.splice(a,0,n),u["a"].then((function(t){for(var r=a;r<e.categories.length;r+=1){var n=e.categories[r];t.packet_editCategory({uuid:n.id},{sort_id:r}).catch((function(t){console.log(t),e.utils.notifyUnexpectedError(t.response.data)}))}}))}})}},v=h,b=(a("d99e"),a("2877")),C=a("6544"),D=a.n(C),$=a("8336"),_=a("ce7e"),k=a("132d"),w=Object(b["a"])(v,r,n,!1,null,null,null);t["default"]=w.exports;D()(w,{VBtn:$["a"],VDivider:_["a"],VIcon:k["a"]})},4562:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.value?a("v-icon",{attrs:{color:"green"}},[e._v("mdi-check-circle")]):a("v-icon",{attrs:{color:"red"}},[e._v("mdi-close-circle")])],1)},n=[],o={name:"BoolIcon",props:{value:Boolean}},i=o,c=a("2877"),s=a("6544"),l=a.n(s),u=a("132d"),d=Object(c["a"])(i,r,n,!1,null,"39c5d26a",null);t["a"]=d.exports;l()(d,{VIcon:u["a"]})},d99e:function(e,t,a){"use strict";a("289f")}}]);
//# sourceMappingURL=chunk-6aeb8d92.9f608ac8.js.map